$(document).on("turbolinks:load",function(){function e(){var e=$("#date_start"),t=$("#date_end"),a=e.val(),n=t.val();sessionStorage.menu_requirements_date_start=a,sessionStorage.menu_requirements_date_end=n;var r=e.data("ajax-path")+"?"+e.attr("name")+"="+a+"&"+t.attr("name")+"="+n;$.ajax({url:r,type:"GET",dataType:"script"})}$("#menu_requirements").length&&($("#main_menu li").removeClass("active"),$("#mm_menu_requirements").addClass("active"),sessionStorage.menu_requirements_date_start&&$("#date_start").val(sessionStorage.menu_requirements_date_start),sessionStorage.menu_requirements_date_end&&$("#date_end").val(sessionStorage.menu_requirements_date_end),e(),$("#dialog_delete").data("delete","deleteMenuRequirement();"),$("#dialog_delete").data("un-delete","unDeleteMenuRequirement();"),deleteMenuRequirement=function(){var e=$(".table").data("path-del")+$(" tr.delete").data("id");$.ajax({url:e,type:"DELETE",dataType:"script"}),1==$("tbody").children().length?$("#table_menu_requirements").empty():$("tr.delete").remove()},unDeleteMenuRequirement=function(){$("tr.delete").removeClass("delete")},$("#create_menu").click(function(){$("#dialog_wait").dialog("open"),$.ajax({url:$(this).data("ajax-path"),type:"POST",dataType:"script"})}),$("#date_start").datepicker({onSelect:function(){var t=$(this),a=t.val(),n=$("#date_end");a!=t.data("old-value")&&(t.datepicker("getDate")>n.datepicker("getDate")&&n.val(t.val()),e())}}),$("#date_end").datepicker({onSelect:function(){var t=$(this),a=t.val(),n=$("#date_start");a!=t.data("old-value")&&(t.datepicker("getDate")<n.datepicker("getDate")&&n.val(a),e())}}),$(document).on("click","td .btn_del",function(){$(this).parents("tr").addClass("delete"),$("#dialog_delete").dialog("open")}),$(document).on("click","td .btn_view, td .btn_edit",function(){var e=$(this).parents("tr");window.location.replace($(this).parents("table").data("path-view")+e.data("id")),sessionStorage.menu_requirements_table_row=e.index()+1,sessionStorage.menu_requirements_table_scroll=$("#table_menu_requirements").scrollTop()}))});