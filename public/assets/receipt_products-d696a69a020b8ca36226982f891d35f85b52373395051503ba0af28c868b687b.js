$(document).on("turbolinks:load",function(){function a(){var a=$("#invoice_number"),t=$("#date"),e=$("h1"),l=t.val();e.text(e.data("text")+" "+l);var d=t.data("ajax-path")+"&"+t.attr("name")+"="+l+"&"+a.attr("name")+"="+a.val();$.ajax({url:d,type:"POST",dataType:"script"})}$("#receipt_products").length&&($("#main_menu li").removeClass("active"),$("#mm_receipts").addClass("active"),$("table").tableHeadFixer(),$("#date").data("old-value",$("#date").val()),$("h1").text($("h1").data("text")+" "+$("#date").val()),$("#send_sa").click(function(){$("#dialog_wait").dialog("open"),$.ajax({url:$(this).data("ajax-path"),type:"POST",dataType:"script"})}),$("#invoice_number").blur(function(){var t=$(this);t.data("old-value")!=t.val()&&a()}),$("#invoice_number").focus(function(){var a=$(this);a.data("old-value",a.val()).select()}),$("#date").datepicker({onSelect:function(){var t=$(this);t.data("old-value")!=t.val()&&a()}}),$("#table_receipt_products input").focus(function(){var a=$(this);a.data("old-value",a.val()).select(),$("#table_receipt_products tr").removeClass("selected"),a.parents("tr").addClass("selected")}),$("#table_receipt_products input").blur(function(){var a=$(this),t=floatValue(a.data("old-value")),e=Math.trunc(1e3*floatValue(a.val()))/1e3;a.val(f3_to_s(e)),t!=e&&(a.data("old-value",e),$.ajax({url:a.data("ajax-path")+"&"+a.attr("name")+"="+e,type:"POST",dataType:"script"}))}))});